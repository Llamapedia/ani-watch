import{_ as P}from"./nuxt-link.7b2acc11.js";import{f as w,r as l,q as j,x as y,g as T,n as x,o as i,c as _,a as t,b as k,w as U,k as b,l as D,i as d,s as F,y as R,d as L,j as A,v as B,F as V,m as I,t as q,z as M,A as m,h as S,B as K}from"./entry.1ce98275.js";import{u as C}from"./vue.f36acd1f.b981e7f7.js";const z=""+new URL("user-circle.b7d7e5ba.svg",import.meta.url).href,O=""+new URL("user.00a75a3c.svg",import.meta.url).href,E=""+new URL("settings.8351913c.svg",import.meta.url).href,H=""+new URL("arrow-out.0451ae6b.svg",import.meta.url).href,J={class:"navbar"},G={class:"navbar-elements"},Q=t("img",{alt:"Logo",class:"logo"},null,-1),W={class:"right-side"},X=["onKeyup"],Y={class:"account-icon"},Z={key:0,class:"dropdown"},ee=t("a",{href:"#",class:"dropdown-content"},[t("img",{src:O,alt:""}),L(" Profile ")],-1),te=t("a",{href:"#",class:"dropdown-content"},[t("img",{src:E,alt:""}),L(" Settings ")],-1),se=t("img",{src:H,alt:""},null,-1),ae=w({__name:"PageNav",setup(N){const c=l(),s=l({}),a=l(!1),o=l(""),r=j(),e=y("themeFileName");C(()=>({link:[{rel:"stylesheet",href:`/themes/${e}.css`}]})),T(()=>{p()});function n(){r.push(`/search/${o.value}`)}async function p(){const $=x.get("access_token"),u=`
            query {
                Viewer {
                    name
                    avatar {
                        large
                    }
                }
            }
        `,v={},h=await fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({query:u,variables:v})});if(h.status===200){const g=await h.json();console.log(g),s.value=g.data.Viewer,c.value.src=g.data.Viewer.avatar.large,a.value=!0}}const f=()=>{x.remove("access_token"),window.location.reload()};return($,u)=>{const v=P;return i(),_("nav",J,[t("div",G,[k(v,{to:"/",class:"logo"},{default:U(()=>[Q]),_:1}),t("div",W,[b(t("input",{type:"search",placeholder:"Search",class:"search-bar","onUpdate:modelValue":u[0]||(u[0]=h=>F(o)?o.value=h:null),onKeyup:R(n,["enter"])},null,40,X),[[D,d(o)]]),t("div",Y,[t("img",{ref_key:"usericon",ref:c,src:z,alt:"Account",class:"account-icon",width:"32",height:"32"},null,512),d(a)?(i(),_("div",Z,[ee,te,t("a",{onClick:f,class:"dropdown-content"},[se,L(" Logout ")])])):A("",!0)])])])])}}});const oe={class:"footer"},ne=M('<ul><li><a href="#">Link 1</a></li><li><a href="#">Link 2</a></li><li><a href="#">Link 3</a></li><li><a href="#">Link 4</a></li></ul><ul><li><a href="#">Link 5</a></li><li><a href="#">Link 6</a></li><li><a href="#">Link 7</a></li><li><a href="#">Link 8</a></li></ul>',2),ce={class:"theme-selector"},le=["value"],re=t("button",null,"Manage Themes",-1),ie=w({__name:"PageFooter",setup(N){const c=y("themes"),s=y("selectedTheme"),a=()=>{localStorage.setItem("theme",s.value)};return(o,r)=>(i(),_("footer",oe,[ne,t("div",ce,[b(t("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>F(s)?s.value=e:null),onChange:a},[(i(!0),_(V,null,I(d(c),(e,n)=>(i(),_("option",{value:n,key:n},q(e.name),9,le))),128))],544),[[B,d(s)]]),re])]))}});const me=w({__name:"default",setup(N){const c=l("0");m("selectedTheme",c);const s=l("default");m("themeFileName",s),S(c,(e,n)=>{e!==n&&(s.value=o.value[parseInt(e)].id)});const a=l("1"),o=l({});S(a,(e,n)=>{e!==n&&r()}),m("themes",o),m("themeDomain",a),C(()=>({link:[{rel:"stylesheet",href:`/themes/${s.value}.css`}]})),T(()=>{c.value=localStorage.getItem("theme")||"0",a.value=localStorage.getItem("themeDomain")||"",r()});const r=async()=>{fetch(`${a.value}/themes.json`).then(e=>e.json()).then(e=>o.value=e).catch(e=>console.error(e))};return(e,n)=>{const p=ae,f=ie;return i(),_(V,null,[k(p),K(e.$slots,"default"),k(f)],64)}}});export{me as default};
